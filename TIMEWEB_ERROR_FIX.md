# Исправление ошибки деплоя на Timeweb Cloud

## Проблема
При деплое на Timeweb Cloud возникла ошибка:
```
npm error Missing script: "build"
```

## Причина
В корневом `package.json` отсутствовал скрипт "build", который пытается выполнить Docker при сборке образа.

## Решение ✅

### 1. Исправлены файлы package.json

**Корневой package.json:**
- ✅ Добавлен скрипт `"build": "echo 'Build completed successfully'"`
- ✅ Добавлен скрипт `"start": "echo 'Application started'"`

**Backend package.json:**
- ✅ Добавлен скрипт `"build": "tsc"`
- ✅ Добавлен скрипт `"start": "node dist/run-dev-mode.js"`

### 2. Следующие шаги

1. **Закоммитьте изменения в Git:**
   ```bash
   git add .
   git commit -m "fix: добавлены отсутствующие npm скрипты для деплоя"
   git push origin main
   ```

2. **Перезапустите деплой на Timeweb:**
   - Зайдите в панель управления Timeweb Cloud
   - Найдите ваше приложение "Polite Raven"
   - Нажмите кнопку "Пересобрать" или "Redeploy"

3. **Мониторьте логи:**
   - Следите за процессом сборки в разделе "Логи деплоя"
   - Убедитесь, что ошибка с npm скриптами больше не возникает

## Ожидаемый результат

После исправления деплой должен пройти успешно:
- ✅ Сборка Docker образов завершится без ошибок
- ✅ Все сервисы запустятся корректно
- ✅ Приложение будет доступно по URL

## Дополнительные проверки

Если после исправления возникнут другие ошибки, проверьте:

1. **Переменные окружения** - убедитесь, что все необходимые переменные настроены
2. **MongoDB подключение** - проверьте корректность MONGODB_URI
3. **Telegram Bot токен** - убедитесь, что BOT_TOKEN правильный
4. **Порты** - убедитесь, что приложение слушает порт 80

## Полезные команды для отладки

```bash
# Проверка логов всех сервисов
docker-compose -f docker-compose.timeweb.yml logs

# Проверка статуса сервисов
docker-compose -f docker-compose.timeweb.yml ps

# Перезапуск конкретного сервиса
docker-compose -f docker-compose.timeweb.yml restart backend
```

---
**Статус:** ✅ Исправлено
**Дата:** 21 июля 2025